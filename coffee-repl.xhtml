<?xml version='1.0' encoding='UTF-8'?>
<html xmlns='http://www.w3.org/1999/xhtml'>
  <head>
    <title> CoffeeScript REPL </title>
    <script src="helpers/helpers.js"/> 
    <script src='helpers/coffee-script.js'/>
    <coffee-script><![CDATA[

    ]]></coffee-script>
  </head>
  <body>

    <style> 
      coffee-script {display: none; }
      log, repl { display: block; }
      log  { max-height: 100px; overflow: auto; }
      statement  {display: block; color: white; padding-left: 3px;}
      statement.selected { background-color: darkgreen; }
      result {display: block; color: white; border-bottom: 1px solid gray; }
      repl { width: 200px; background-color: black; padding: 3px;}
      .entry { border-left: 5px solid blue; background-color: none; }
      
      boolean  { color: gray; }
      number   { color: green;  }
      string   { color: red; }
      function { color: lightblue; }
      array    { color: blue }
      object   { color: white; font-weight: bold; }
      error    { color: black; background-color: red; border: white; display: block; padding: 3px; }
      
    </style>

    <script src="repl.js"/>
    <coffee-script><![CDATA[
      window.repl = new Repl()

      document.body.append window.repl
      do repl.focus
      
    ]]></coffee-script>

    <script><![CDATA[
      var loadCoffeeScripts = function() {
        var scripts = document.getElementsByTagName("coffee-script");
        scripts.forEach( function(script) {
          CoffeeScript.run(script.textContent);
        });
      };

      loadCoffeeScripts();


    ]]></script>

  </body>
</html>
